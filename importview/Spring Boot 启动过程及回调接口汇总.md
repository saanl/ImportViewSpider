<div class="entry"> 
 <div class="copyright-area">
  原文出处： 
  <a ref="nofollow" target="_blank" href="https://github.com/chanjarster/spring-boot-all-callbacks">Daniel Qian</a>
 </div> 
 <p>相关代码在：&nbsp;<a href="https://github.com/chanjarster/spring-boot-all-callbacks" class="external" rel="nofollow" target="_blank">https://github.com/chanjarster/spring-boot-all-callbacks</a></p> 
 <p>注：本文基于<a href="https://github.com/spring-projects/spring-boot/tree/v1.4.1.RELEASE" class="external" rel="nofollow" target="_blank">spring-boot 1.4.1.RELEASE</a>,&nbsp;<a href="https://github.com/spring-projects/spring-framework/tree/v4.3.3.RELEASE" class="external" rel="nofollow" target="_blank">spring 4.3.3.RELEASE</a>撰写。</p> 
 <h2>启动顺序</h2> 
 <p>Spring boot的启动代码一般是这样的：</p> 
 <pre class="brush: java; gutter: true">@SpringBootApplication
public class SampleApplication {
  public static void main(String[] args) throws Exception {
    SpringApplication.run(SampleApplication.class, args);
  }
}</pre> 
 <h3>初始化SpringApplication</h3> 
 <ol> 
  <li><code>SpringApplication#run(Object source, String... args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L1174" class="external" rel="nofollow" target="_blank">#L1174</a></li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L1186" class="external" rel="nofollow" target="_blank">SpringApplication#L1186</a>&nbsp;-&gt;&nbsp;<code>SpringApplication(sources)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L236" class="external" rel="nofollow" target="_blank">#L236</a></li> 
  <li><code>SpringApplication#initialize(Object[] sources)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L256" class="external" rel="nofollow" target="_blank">#L256</a>&nbsp;<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/SpringApplication.html" rel="nofollow" class="external" target="_blank">javadoc</a></li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L257" class="external" rel="nofollow" target="_blank">SpringApplication#L257</a>&nbsp;添加source（复数），<code>SpringApplication</code>使用source来构建Bean。一般来说在<code>run</code>的时候都会把<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/SpringBootApplication.html" rel="nofollow" class="external" target="_blank">@SpringBootApplication</a>标记的类(本例中是SampleApplication)放到<code>sources</code>参数里，然后由这个类出发找到Bean的定义。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L261" class="external" rel="nofollow" target="_blank">SpringApplication#L261</a>&nbsp;初始化<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ApplicationContextInitializer</a>列表（见附录）</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L263" class="external" rel="nofollow" target="_blank">SpringApplication#L263</a>&nbsp;初始化<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">ApplicationListener</a>列表（见附录）</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L1186" class="external" rel="nofollow" target="_blank">SpringApplication#L1186</a>&nbsp;-&gt;&nbsp;<code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a>，进入运行阶段</li> 
 </ol> 
 <h3>推送ApplicationStartedEvent</h3> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a></p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L303" class="external" rel="nofollow" target="_blank">SpringApplication#L303</a>&nbsp;初始化<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplicationRunListeners.java" class="external" rel="nofollow" target="_blank">SpringApplicationRunListeners</a>&nbsp;(<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/SpringApplicationRunListener.html" rel="nofollow" class="external" target="_blank">SpringApplicationRunListener</a>的集合)。它内部只包含<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/EventPublishingRunListener.html" rel="nofollow" class="external" target="_blank">EventPublishingRunListener</a>。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L304" class="external" rel="nofollow" target="_blank">SpringApplication#L304</a>&nbsp;推送<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationStartedEvent.html" rel="nofollow" class="external" target="_blank">ApplicationStartedEvent</a>给所有的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">ApplicationListener</a>（见附录）。 下面是关心此事件的listener： 
   <ol> 
    <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/liquibase/LiquibaseServiceLocatorApplicationListener.html" rel="nofollow" class="external" target="_blank">LiquibaseServiceLocatorApplicationListener</a></li> 
    <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a>（见附录）</li> 
   </ol> </li> 
 </ol> 
 <h3>准备Environment</h3> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a>-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L308" class="external" rel="nofollow" target="_blank">#L308</a>-&gt;<code>prepareEnvironment(...)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L331" class="external" rel="nofollow" target="_blank">#L331</a>准备<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html" rel="nofollow" class="external" target="_blank">ConfigurableEnvironment</a>。</p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L335" class="external" rel="nofollow" target="_blank">SpringApplication#L335</a>&nbsp;创建<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>（见附录）。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L336" class="external" rel="nofollow" target="_blank">SpringApplication#L336</a>&nbsp;配置<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>，将命令行和默认参数整吧整吧，添加到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/MutablePropertySources.html" rel="nofollow" class="external" target="_blank">MutablePropertySources</a>。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L337" class="external" rel="nofollow" target="_blank">SpringApplication#L337</a>&nbsp;推送<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationEnvironmentPreparedEvent.html" rel="nofollow" class="external" target="_blank">ApplicationEnvironmentPreparedEvent</a>给所有的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">ApplicationListener</a>（见附录）。下面是关心此事件的listener:</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/BackgroundPreinitializer.html" rel="nofollow" class="external" target="_blank">BackgroundPreinitializer</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/FileEncodingApplicationListener.html" rel="nofollow" class="external" target="_blank">FileEncodingApplicationListener</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/AnsiOutputApplicationListener.html" rel="nofollow" class="external" target="_blank">AnsiOutputApplicationListener</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>（见附录）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/DelegatingApplicationListener.html" rel="nofollow" class="external" target="_blank">DelegatingApplicationListener</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/ClasspathLoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">ClasspathLoggingApplicationListener</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/system/ApplicationPidFileWriter.html" rel="nofollow" class="external" target="_blank">ApplicationPidFileWriter</a></li> 
 </ol> 
 <p>可以参考<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-external-config" rel="nofollow" class="external" target="_blank">官方文档</a>了解<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>构建好之后，其<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/MutablePropertySources.html" rel="nofollow" class="external" target="_blank">MutablePropertySources</a>内部到底有些啥东东。</p> 
 <h3>创建及准备ApplicationContext</h3> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a></p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L311" class="external" rel="nofollow" target="_blank">SpringApplication#L311</a>-&gt;<code>SpringApplication#createApplicationContext()</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L583" class="external" rel="nofollow" target="_blank">#L583</a>创建<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>。可以看到实际上创建的是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" rel="nofollow" class="external" target="_blank">AnnotationConfigApplicationContext</a>或<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/embedded/AnnotationConfigEmbeddedWebApplicationContext.html" rel="nofollow" class="external" target="_blank">AnnotationConfigEmbeddedWebApplicationContext</a>。</li> 
  <li>在构造<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" rel="nofollow" class="external" target="_blank">AnnotationConfigApplicationContext</a>的时候，间接注册了一个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanDefinitionRegistryPostProcessor</a>的Bean：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ConfigurationClassPostProcessor.html" rel="nofollow" class="external" target="_blank">ConfigurationClassPostProcessor</a>。经由<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotatedBeanDefinitionReader.html" rel="nofollow" class="external" target="_blank">AnnotatedBeanDefinitionReader</a><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/AnnotatedBeanDefinitionReader.java#L83" class="external" rel="nofollow" target="_blank">构造函数</a>-&gt;<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/AnnotationConfigUtils.java#L160" class="external" rel="nofollow" target="_blank">AnnotationConfigUtils.registerAnnotationConfigProcessors</a>。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L313" class="external" rel="nofollow" target="_blank">SpringApplication#L313</a>-&gt;<code>SpringApplication#prepareContext(...)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L344" class="external" rel="nofollow" target="_blank">#L344</a>准备<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a></li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L347" class="external" rel="nofollow" target="_blank">SpringApplication#L347</a>-&gt;<code>context.setEnvironment(environment)</code>，把之前准备好的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/Environment.html" rel="nofollow" class="external" target="_blank">Environment</a>塞给<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a></li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L348" class="external" rel="nofollow" target="_blank">SpringApplication#L348</a>-&gt;<code>postProcessApplicationContext(context)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L605" class="external" rel="nofollow" target="_blank">#L605</a>，给<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>设置了一些其他东西</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L349" class="external" rel="nofollow" target="_blank">SpringApplication#L349</a>-&gt;<code>applyInitializers(context)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L630" class="external" rel="nofollow" target="_blank">#L630</a>，调用之前准备好的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ApplicationContextInitializer</a></li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L350" class="external" rel="nofollow" target="_blank">SpringApplication#L350</a>-&gt;<code>listeners.contextPrepared(context)</code>-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/event/EventPublishingRunListener.java#L73" class="external" rel="nofollow" target="_blank">EventPublishingRunListener.contextPrepared</a>，但实际上啥都没做。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L366" class="external" rel="nofollow" target="_blank">SpringApplication#L366</a>-&gt;<code>load</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L687" class="external" rel="nofollow" target="_blank">#L687</a>，负责将source(复数)里所定义的Bean加载到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>里，在本例中就是SampleApplication，这些source是在初始化SpringApplication阶段获得的。</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L367" class="external" rel="nofollow" target="_blank">SpringApplication#L367</a>-&gt;<code>listeners.contextLoaded(context)</code>-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/event/EventPublishingRunListener.java#L78" class="external" rel="nofollow" target="_blank">EventPublishingRunListener.contextLoaded</a>。</li> 
  <li>将<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/SpringApplication.html" rel="nofollow" class="external" target="_blank">SpringApplication</a>自己拥有的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">ApplicationListener</a>加入到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a></li> 
  <li>发送<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html" rel="nofollow" class="external" target="_blank">ApplicationPreparedEvent</a>。目前已知关心这个事件的有<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>、<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a>、<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/system/ApplicationPidFileWriter.html" rel="nofollow" class="external" target="_blank">ApplicationPidFileWriter</a></li> 
 </ol> 
 <p>要注意的是在这个阶段，<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>里只有SampleApplication，SampleApplication是Bean的加载工作的起点。</p> 
 <h3>刷新ApplicationContext</h3> 
 <p>根据前面所讲，这里的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>实际上是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/support/GenericApplicationContext.html" rel="nofollow" class="external" target="_blank">GenericApplicationContext</a>&nbsp;-&gt;<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" rel="nofollow" class="external" target="_blank">AnnotationConfigApplicationContext</a>或者<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/embedded/AnnotationConfigEmbeddedWebApplicationContext.html" rel="nofollow" class="external" target="_blank">AnnotationConfigEmbeddedWebApplicationContext</a></p> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a>&nbsp;-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L315" class="external" rel="nofollow" target="_blank">#L315</a>-&gt;<code>SpringApplication#refreshContext(context)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L370" class="external" rel="nofollow" target="_blank">#L370</a>&nbsp;-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L371" class="external" rel="nofollow" target="_blank">#L371</a>-&gt;<code>SpringApplication#refresh(context)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L759" class="external" rel="nofollow" target="_blank">#L759</a>&nbsp;-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L761" class="external" rel="nofollow" target="_blank">#L761</a>-&gt;<code>AbstractApplicationContext#refresh</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L507" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L507</a></p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L510" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L510</a>-&gt;<code>AbstractApplicationContext#prepareRefresh()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L575" class="external" rel="nofollow" target="_blank">#L575</a>，做了一些初始化工作，比如设置了当前Context的状态，初始化propertySource（其实啥都没干），检查required的property是否都已在Environment中（其实并没有required的property可供检查）等。</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L513" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L513</a>-&gt;<code>obtainFreshBeanFactory()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L611" class="external" rel="nofollow" target="_blank">#L611</a>，获得<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a>，实际上这里获得的是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/support/DefaultListableBeanFactory.html" rel="nofollow" class="external" target="_blank">DefaultListableBeanFactory</a></li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L516" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L516</a>-&gt;<code>prepareBeanFactory(beanFactory)</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L625" class="external" rel="nofollow" target="_blank">#L625</a>准备<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a></li> 
  <li>给beanFactory设置了ClassLoader</li> 
  <li>给beanFactory设置了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/expression/StandardBeanExpressionResolver.html" rel="nofollow" class="external" target="_blank">SpEL解析器</a></li> 
  <li>给beanFactory设置了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/PropertyEditorRegistrar.html" rel="nofollow" class="external" target="_blank">PropertyEditorRegistrar</a></li> 
  <li>给beanFactory添加了<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/ApplicationContextAwareProcessor.java" class="external" rel="nofollow" target="_blank">ApplicationContextAwareProcessor</a>（<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a>的实现类），需要注意的是它是第一个被添加到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a>的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a></li> 
  <li>给beanFactory设置忽略解析以下类的依赖：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ResourceLoaderAware.html" rel="nofollow" class="external" target="_blank">ResourceLoaderAware</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationEventPublisherAware.html" rel="nofollow" class="external" target="_blank">ApplicationEventPublisherAware</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/MessageSourceAware.html" rel="nofollow" class="external" target="_blank">MessageSourceAware</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextAware.html" rel="nofollow" class="external" target="_blank">ApplicationContextAware</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/EnvironmentAware.html" rel="nofollow" class="external" target="_blank">EnvironmentAware</a>。原因是注入这些回调接口本身没有什么意义。</li> 
  <li>给beanFactory添加了以下类的依赖解析：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/io/ResourceLoader.html" rel="nofollow" class="external" target="_blank">ResourceLoader</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationEventPublisher.html" rel="nofollow" class="external" target="_blank">ApplicationEventPublisher</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a></li> 
  <li>给beanFactory添加<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/weaving/LoadTimeWeaverAwareProcessor.html" rel="nofollow" class="external" target="_blank">LoadTimeWeaverAwareProcessor</a>用来处理<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/weaving/LoadTimeWeaverAware.html" rel="nofollow" class="external" target="_blank">LoadTimeWeaverAware</a>的回调，在和AspectJ集成的时候会用到</li> 
  <li>把<code>getEnvironment()</code>作为Bean添加到beanFactory中，Bean Name:&nbsp;<code>environment</code></li> 
  <li>把<code>getEnvironment().getSystemProperties()</code>作为Bean添加到beanFactory中，Bean Name:&nbsp;<code>systemProperties</code></li> 
  <li>把<code>getEnvironment().getSystemEnvironment()</code>作为Bean添加到beanFactory中，Bean Name:&nbsp;<code>systemEnvironment</code></li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L520" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L520</a>-&gt;<code>postProcessBeanFactory(beanFactory)</code>，后置处理<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a>，实际啥都没做</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L523" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L523</a>-&gt;<code>invokeBeanFactoryPostProcessors(beanFactory)</code>，利用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanFactoryPostProcessor</a>，对beanFactory做后置处理。调用此方法时有四个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanFactoryPostProcessor</a>：</li> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/SharedMetadataReaderFactoryContextInitializer.java" class="external" rel="nofollow" target="_blank">SharedMetadataReaderFactoryContextInitializer</a>的内部类<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/SharedMetadataReaderFactoryContextInitializer.java#L66" class="external" rel="nofollow" target="_blank">CachingMetadataReaderFactoryPostProcessor</a>，是在&nbsp;创建及准备ApplicationContext 2.3&nbsp;时添加的：<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/SharedMetadataReaderFactoryContextInitializer.java#L57" class="external" rel="nofollow" target="_blank">#L57</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/ConfigurationWarningsApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ConfigurationWarningsApplicationContextInitializer</a>的内部类<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/ConfigurationWarningsApplicationContextInitializer.java#L75" class="external" rel="nofollow" target="_blank">ConfigurationWarningsPostProcessor</a>，是在&nbsp;创建及准备ApplicationContext 2.3&nbsp;时添加的：<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/ConfigurationWarningsApplicationContextInitializer.java#L60" class="external" rel="nofollow" target="_blank">#L60</a></li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>的内部类<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java#L285" class="external" rel="nofollow" target="_blank">PropertySourceOrderingPostProcessor</a>，是在&nbsp;创建及准备ApplicationContext 2.6&nbsp;时添加的：<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java#L158" class="external" rel="nofollow" target="_blank">#L158</a>-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java#L199" class="external" rel="nofollow" target="_blank">#L199</a>-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java#L244" class="external" rel="nofollow" target="_blank">#L244</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ConfigurationClassPostProcessor.html" rel="nofollow" class="external" target="_blank">ConfigurationClassPostProcessor</a>，负责读取<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>是在&nbsp;创建及准备ApplicationContext 1.1&nbsp;时添加的</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L526" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L526</a>-&gt;<code>registerBeanPostProcessors(beanFactory)</code>，注册<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a></li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L529" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L529</a>-&gt;<code>initMessageSource()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L704" class="external" rel="nofollow" target="_blank">#L704</a>，初始化<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/MessageSource.html" rel="nofollow" class="external" target="_blank">MessageSource</a>，不过其实此时的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/MessageSource.html" rel="nofollow" class="external" target="_blank">MessageSource</a>是个Noop对象。</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L532" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L532</a>-&gt;<code>initApplicationEventMulticaster()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L739" class="external" rel="nofollow" target="_blank">#L739</a>，初始化<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/event/SimpleApplicationEventMulticaster.html" rel="nofollow" class="external" target="_blank">ApplicationEventMulticaster</a>。</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L535" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L535</a>-&gt;<code>onRefresh()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L793" class="external" rel="nofollow" target="_blank">#L793</a>，这个方法啥都没做</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L538" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L538</a>-&gt;<code>registerListeners()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L801" class="external" rel="nofollow" target="_blank">#L801</a>，把自己的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">ApplicationListener</a>注册到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/event/SimpleApplicationEventMulticaster.html" rel="nofollow" class="external" target="_blank">ApplicationEventMulticaster</a>里，并且将之前因为没有<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/event/SimpleApplicationEventMulticaster.html" rel="nofollow" class="external" target="_blank">ApplicationEventMulticaster</a>而无法发出的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationEvent.html" rel="nofollow" class="external" target="_blank">ApplicationEvent</a>发送出去。</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L541" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L541</a>-&gt;<code>finishBeanFactoryInitialization</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L828" class="external" rel="nofollow" target="_blank">#L828</a>。注意<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L861" class="external" rel="nofollow" target="_blank">#L861</a>，在这一步的时候才会实例化所有non-lazy-init bean，这里说的实例化不只是new而已，注入、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a>都会执行。</li> 
  <li><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L544" class="external" rel="nofollow" target="_blank">AbstractApplicationContext#L544</a>-&gt;<code>finishRefresh()</code><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L869" class="external" rel="nofollow" target="_blank">#L869</a>。</li> 
  <li>在<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/AbstractApplicationContext.java#L877" class="external" rel="nofollow" target="_blank">#L877</a>发送了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/event/ContextRefreshedEvent.html" rel="nofollow" class="external" target="_blank">ContextRefreshedEvent</a></li> 
 </ol> 
 <h3>调用 ApplicationRunner 和 CommandLineRunner</h3> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a>&nbsp;-&gt;<code>afterRefresh(context, applicationArguments)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L316" class="external" rel="nofollow" target="_blank">#L316</a>&nbsp;-&gt;<code>callRunners(context, args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L771" class="external" rel="nofollow" target="_blank">#L771</a>&nbsp;-&gt;<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L774" class="external" rel="nofollow" target="_blank">#L774</a>&nbsp;先后调用了当前<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>中的<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/ApplicationRunner.html" rel="nofollow" class="external" target="_blank">ApplicationRunner</a>和<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/CommandLineRunner.html" rel="nofollow" class="external" target="_blank">CommandLineRunner</a>。关于它们的相关文档可以看<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-command-line-runner" rel="nofollow" class="external" target="_blank">这里</a>。</p> 
 <p>需要注意的是，此时的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>已经刷新完毕了，该有的Bean都已经有了。</p> 
 <h3>推送ApplicationReadyEvent or ApplicationFailedEvent</h3> 
 <p><code>SpringApplication#run(args)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L297" class="external" rel="nofollow" target="_blank">#L297</a>-&gt;<code>listeners.finished(context, null)</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L317" class="external" rel="nofollow" target="_blank">#L317</a>&nbsp;间接地调用了<code>EventPublishingRunListener#getFinishedEvent</code><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/context/event/EventPublishingRunListener.java#L96" class="external" rel="nofollow" target="_blank">EventPublishingRunListener#L96</a>，发送了<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationReadyEvent.html" rel="nofollow" class="external" target="_blank">ApplicationReadyEvent</a>或<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/event/ApplicationFailedEvent.html" rel="nofollow" class="external" target="_blank">ApplicationFailedEvent</a></p> 
 <h2>回调接口</h2> 
 <h3>ApplicationContextInitializer</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">javadoc</a>&nbsp;<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#howto-customize-the-environment-or-application-context" rel="nofollow" class="external" target="_blank">相关文档</a></p> 
 <p>加载方式：读取<code>classpath*:META-INF/spring.factories</code>中key等于<code>org.springframework.context.ApplicationContextInitializer</code>的property列出的类</p> 
 <p>排序方式：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/AnnotationAwareOrderComparator.html" rel="nofollow" class="external" target="_blank">AnnotationAwareOrderComparator</a></p> 
 <p>已知清单1：spring-boot-1.4.1.RELEASE.jar!/META-INF/spring.factories</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/ConfigurationWarningsApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ConfigurationWarningsApplicationContextInitializer</a>（优先级：0）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/ContextIdApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ContextIdApplicationContextInitializer</a>（优先级：Ordered.LOWEST_PRECEDENCE – 10）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/DelegatingApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">DelegatingApplicationContextInitializer</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/web/ServerPortInfoApplicationContextInitializer.html" rel="nofollow" class="external" target="_blank">ServerPortInfoApplicationContextInitializer</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
 </ol> 
 <p>已知清单2：spring-boot-autoconfigure-1.4.1.RELEASE.jar!/META-INF/spring.factories</p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/SharedMetadataReaderFactoryContextInitializer.java" class="external" rel="nofollow" target="_blank">SharedMetadataReaderFactoryContextInitializer</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/logging/AutoConfigurationReportLoggingInitializer.html" rel="nofollow" class="external" target="_blank">AutoConfigurationReportLoggingInitializer</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
 </ol> 
 <h3>ApplicationListener</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationListener.html" rel="nofollow" class="external" target="_blank">javadoc</a>&nbsp;<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#howto-customize-the-environment-or-application-context" rel="nofollow" class="external" target="_blank">相关文档</a></p> 
 <p>加载方式：读取<code>classpath*:META-INF/spring.factories</code>中key等于<code>org.springframework.context.ApplicationListener</code>的property列出的类</p> 
 <p>排序方式：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/AnnotationAwareOrderComparator.html" rel="nofollow" class="external" target="_blank">AnnotationAwareOrderComparator</a></p> 
 <p>已知清单1：spring-boot-1.4.1.RELEASE.jar!/META-INF/spring.factories中定义的</p> 
 <ol> 
  <li><a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot/src/main/java/org/springframework/boot/ClearCachesApplicationListener.java" class="external" rel="nofollow" target="_blank">ClearCachesApplicationListener</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/builder/ParentContextCloserApplicationListener.html" rel="nofollow" class="external" target="_blank">ParentContextCloserApplicationListener</a>（优先级：Ordered.LOWEST_PRECEDENCE – 10）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/FileEncodingApplicationListener.html" rel="nofollow" class="external" target="_blank">FileEncodingApplicationListener</a>（优先级：Ordered.LOWEST_PRECEDENCE）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/AnsiOutputApplicationListener.html" rel="nofollow" class="external" target="_blank">AnsiOutputApplicationListener</a>（优先级：ConfigFileApplicationListener.DEFAULT_ORDER + 1）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>（优先级：Ordered.HIGHEST_PRECEDENCE + 10）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/DelegatingApplicationListener.html" rel="nofollow" class="external" target="_blank">DelegatingApplicationListener</a>（优先级：0)</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/liquibase/LiquibaseServiceLocatorApplicationListener.html" rel="nofollow" class="external" target="_blank">LiquibaseServiceLocatorApplicationListener</a>（优先级：无=Ordered.LOWEST_PRECEDENCE）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/ClasspathLoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">ClasspathLoggingApplicationListener</a>（优先级：LoggingApplicationListener的优先级 + 1）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a>（优先级：Ordered.HIGHEST_PRECEDENCE + 20）</li> 
 </ol> 
 <p>已知清单2：spring-boot-autoconfigure-1.4.1.RELEASE.jar!/META-INF/spring.factories中定义的</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/BackgroundPreinitializer.html" rel="nofollow" class="external" target="_blank">BackgroundPreinitializer</a></li> 
 </ol> 
 <h3>SpringApplicationRunListener</h3> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/SpringApplicationRunListener.html" rel="nofollow" class="external" target="_blank">javadoc</a></p> 
 <p>加载方式：读取<code>classpath*:META-INF/spring.factories</code>中key等于<code>org.springframework.boot.SpringApplicationRunListener</code>的property列出的类</p> 
 <p>排序方式：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/AnnotationAwareOrderComparator.html" rel="nofollow" class="external" target="_blank">AnnotationAwareOrderComparator</a></p> 
 <p>已知清单：spring-boot-1.4.1.RELEASE.jar!/META-INF/spring.factories定义的</p> 
 <ol> 
  <li>org.springframework.boot.context.event.EventPublishingRunListener（优先级：0）</li> 
 </ol> 
 <h3>EnvironmentPostProcessor</h3> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/env/EnvironmentPostProcessor.html" rel="nofollow" class="external" target="_blank">EnvironmentPostProcessor</a>可以用来自定义<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>（<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#howto-customize-the-environment-or-application-context" rel="nofollow" class="external" target="_blank">相关文档</a>）。</p> 
 <p>加载方式：读取<code>classpath*:META-INF/spring.factories</code>中key等于<code>org.springframework.boot.env.EnvironmentPostProcessor</code>的property列出的类</p> 
 <p>排序方式：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/AnnotationAwareOrderComparator.html" rel="nofollow" class="external" target="_blank">AnnotationAwareOrderComparator</a></p> 
 <p>已知清单：spring-boot-1.4.1.RELEASE.jar!/META-INF/spring.factories定义的</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/cloud/CloudFoundryVcapEnvironmentPostProcessor.html" rel="nofollow" class="external" target="_blank">CloudFoundryVcapEnvironmentPostProcessor</a>（优先级：ConfigFileApplicationListener.DEFAULT_ORDER – 1）</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/env/SpringApplicationJsonEnvironmentPostProcessor.html" rel="nofollow" class="external" target="_blank">SpringApplicationJsonEnvironmentPostProcessor</a>（优先级：Ordered.HIGHEST_PRECEDENCE + 5）</li> 
 </ol> 
 <h3>BeanPostProcessor</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">javadoc</a>&nbsp;<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-extension-bpp" rel="nofollow" class="external" target="_blank">相关文档</a></p> 
 <p>用来对Bean实例进行修改的勾子，根据Javadoc ApplicationContext会自动侦测到BeanPostProcessor Bean，然后将它们应用到后续创建的所有Bean上。</p> 
 <h3>BeanFactoryPostProcessor和BeanDefinitionRegistryPostProcessor</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-extension-factory-postprocessors" rel="nofollow" class="external" target="_blank">相关文档</a></p> 
 <p><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L57" class="external" rel="nofollow" target="_blank">PostProcessorRegistrationDelegate</a>负责调用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanDefinitionRegistryPostProcessor</a>和<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanFactoryPostProcessor</a>。<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanDefinitionRegistryPostProcessor</a>在<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanFactoryPostProcessor</a>之前被调用。</p> 
 <h3>*Aware</h3> 
 <p>*Aware是一类可以用来获得Spring对象的interface，这些interface都继承了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/Aware.html" rel="nofollow" class="external" target="_blank">Aware</a>，已知的有：</p> 
 <ul> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationEventPublisherAware.html" rel="nofollow" class="external" target="_blank">ApplicationEventPublisherAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/jmx/export/notification/NotificationPublisherAware.html" rel="nofollow" class="external" target="_blank">NotificationPublisherAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/MessageSourceAware.html" rel="nofollow" class="external" target="_blank">MessageSourceAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/EnvironmentAware.html" rel="nofollow" class="external" target="_blank">EnvironmentAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactoryAware.html" rel="nofollow" class="external" target="_blank">BeanFactoryAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/EmbeddedValueResolverAware.html" rel="nofollow" class="external" target="_blank">EmbeddedValueResolverAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ResourceLoaderAware.html" rel="nofollow" class="external" target="_blank">ResourceLoaderAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportAware.html" rel="nofollow" class="external" target="_blank">ImportAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/weaving/LoadTimeWeaverAware.html" rel="nofollow" class="external" target="_blank">LoadTimeWeaverAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanNameAware.html" rel="nofollow" class="external" target="_blank">BeanNameAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanClassLoaderAware.html" rel="nofollow" class="external" target="_blank">BeanClassLoaderAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextAware.html" rel="nofollow" class="external" target="_blank">ApplicationContextAware</a></li> 
 </ul> 
 <h2>@Configuration 和 Auto-configuration</h2> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>替代xml来定义<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>的一种手段。<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>也是定义<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>的一种手段。</p> 
 <p>这两者的相同之处有：</p> 
 <ol> 
  <li>都是使用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>注解的类，这些类里都可以定义<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Bean.html" rel="nofollow" class="external" target="_blank">@Bean</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Import.html" rel="nofollow" class="external" target="_blank">@Import</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportResource.html" rel="nofollow" class="external" target="_blank">@ImportResource</a>。</li> 
  <li>都可以使用<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-condition-annotations" rel="nofollow" class="external" target="_blank">@Condition*</a>来根据情况选择是否加载</li> 
 </ol> 
 <p>而不同之处有：</p> 
 <ol> 
  <li>加载方式不同： 
   <ul> 
    <li>普通<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>则是通过扫描package path加载的</li> 
    <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>的是通过读取<code>classpath*:META-INF/spring.factories</code>中key等于<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code>的property列出的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>加载的</li> 
   </ul> </li> 
  <li>加载顺序不同：普通<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>的加载在<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>之前，但是有例外情况，看下面。</li> 
  <li>内部加载顺序可控上的不同： 
   <ul> 
    <li>普通<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>则无法控制加载顺序</li> 
    <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>可以使用<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureOrder.html" rel="nofollow" class="external" target="_blank">@AutoConfigureOrder</a>、<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureBefore.html" rel="nofollow" class="external" target="_blank">@AutoConfigureBefore</a>、<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureAfter.html" rel="nofollow" class="external" target="_blank">@AutoConfigureAfter</a></li> 
   </ul> </li> 
 </ol> 
 <p>以下情况下<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>会在普通<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>前加载：</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>如果出现在最初的扫描路径里（@ComponentScan），就会被提前加载到，然后被当作普通的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>处理，这样<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureBefore.html" rel="nofollow" class="external" target="_blank">@AutoConfigureBefore</a>和<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureAfter.html" rel="nofollow" class="external" target="_blank">@AutoConfigureAfter</a>就没用了。参看例子代码里的InsideAutoConfiguration和InsideAutoConfiguration2。</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>如果提供<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a>，那么它会被提前加载。参见例子代码里的BeanPostProcessorAutoConfiguration。</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>如果使用了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportBeanDefinitionRegistrar.html" rel="nofollow" class="external" target="_blank">ImportBeanDefinitionRegistrar</a>，那么<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportBeanDefinitionRegistrar.html" rel="nofollow" class="external" target="_blank">ImportBeanDefinitionRegistrar</a>会被提前加载。参见例子代码里的ImportBeanDefinitionRegistrarAutoConfiguration。</li> 
  <li><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>如果使用了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportSelector.html" rel="nofollow" class="external" target="_blank">ImportSelector</a>，那么<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportSelector.html" rel="nofollow" class="external" target="_blank">ImportSelector</a>会被提前加载。参见例子代码里的UselessDeferredImportSelectorAutoConfiguration。</li> 
 </ol> 
 <p>参考<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html" rel="nofollow" class="external" target="_blank">EnableAutoConfiguration</a>和附录<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.html" rel="nofollow" class="external" target="_blank">EnableAutoConfigurationImportSelector</a>了解Spring boot内部处理机制。</p> 
 <h3>AnnotatedBeanDefinitionReader</h3> 
 <p>这个类用来读取<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>和<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/stereotype/Component.html" rel="nofollow" class="external" target="_blank">@Component</a>，并将<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>注册到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContext.html" rel="nofollow" class="external" target="_blank">ApplicationContext</a>里。</p> 
 <h3>ConfigurationClassPostProcessor</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ConfigurationClassPostProcessor.html" rel="nofollow" class="external" target="_blank">ConfigurationClassPostProcessor</a>是一个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanDefinitionRegistryPostProcessor</a>，负责处理<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>。</p> 
 <p>需要注意一个烟雾弹：看<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassPostProcessor.java#L296" class="external" rel="nofollow" target="_blank">#L296</a>-&gt;<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassUtils.java#L209" class="external" rel="nofollow" target="_blank">ConfigurationClassUtils#L209</a>。而order的值则是在<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassUtils.java#L122" class="external" rel="nofollow" target="_blank">ConfigurationClassUtils#L122</a>从注解中提取的。 这段代码似乎告诉我们它会对<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>进行排序，然后按次序加载。 实际上不是的，<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>是一个递归加载的过程。在本例中，是先从SampleApplication开始加载的，而事实上在这个时候，也就只有SampleApplication它自己可以提供排序。 而之后则直接使用了<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassParser.java" class="external" rel="nofollow" target="_blank">ConfigurationClassParser</a>，它里面并没有排序的逻辑。</p> 
 <p>关于排序的方式简单来说是这样的：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>的排序根据且只根据<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html" rel="nofollow" class="external" target="_blank">@Order</a>排序，如果没有<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html" rel="nofollow" class="external" target="_blank">@Order</a>则优先级最低。</p> 
 <h3>ConfigurationClassParser</h3> 
 <p>前面讲了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ConfigurationClassPostProcessor.html" rel="nofollow" class="external" target="_blank">ConfigurationClassPostProcessor</a>使用<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassParser.java" class="external" rel="nofollow" target="_blank">ConfigurationClassParser</a>，实际上加载<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>的工作是在这里做的。</p> 
 <p>下面讲以下加载的顺序：</p> 
 <ol> 
  <li>以SampleApplication为起点开始扫描</li> 
  <li>扫描得到所有的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>和<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/stereotype/Component.html" rel="nofollow" class="external" target="_blank">@Component</a>，从中读取<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>并导入：</li> 
  <li>如果<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>注解了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Import.html" rel="nofollow" class="external" target="_blank">@Import</a></li> 
  <li>如果使用的是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportSelector.html" rel="nofollow" class="external" target="_blank">ImportSelector</a>，则递归导入</li> 
  <li>如果使用的是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportBeanDefinitionRegistrar.html" rel="nofollow" class="external" target="_blank">ImportBeanDefinitionRegistrar</a>，则递归导入</li> 
  <li>如果使用的是<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/DeferredImportSelector.html" rel="nofollow" class="external" target="_blank">DeferredImportSelector</a>，则仅收集不导入</li> 
  <li>如果<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>注解了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportResource.html" rel="nofollow" class="external" target="_blank">@ImportResource</a>，则递归导入</li> 
  <li>迭代之前收集的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/DeferredImportSelector.html" rel="nofollow" class="external" target="_blank">DeferredImportSelector</a>，递归导入</li> 
 </ol> 
 <p>那<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>在哪里呢？ 实际上是在第3步里，<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/SpringBootApplication.html" rel="nofollow" class="external" target="_blank">@SpringBootApplication</a>存在注解<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html" rel="nofollow" class="external" target="_blank">@EnableAutoConfiguration</a>，它使用了<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.html" rel="nofollow" class="external" target="_blank">EnableAutoConfigurationImportSelector</a>，&nbsp;<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.html" rel="nofollow" class="external" target="_blank">EnableAutoConfigurationImportSelector</a>是一个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/DeferredImportSelector.html" rel="nofollow" class="external" target="_blank">DeferredImportSelector</a>，所以也就是说，<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>是在普通<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>之后再加载的。</p> 
 <p>顺带一提，如果<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>里再使用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/DeferredImportSelector.html" rel="nofollow" class="external" target="_blank">DeferredImportSelector</a>，那么效果和使用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ImportSelector.html" rel="nofollow" class="external" target="_blank">ImportSelector</a>效果是一样的，不会再被延后处理。参见例子代码里的UselessDeferredImportSelectorAutoConfiguration。</p> 
 <h3>EnableAutoConfigurationImportSelector</h3> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/EnableAutoConfigurationImportSelector.html" rel="nofollow" class="external" target="_blank">EnableAutoConfigurationImportSelector</a>负责导入<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>。</p> 
 <p>它利用<a href="https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/AutoConfigurationSorter.java" class="external" rel="nofollow" target="_blank">AutoConfigurationSorter</a>对<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#using-boot-auto-configuration" rel="nofollow" class="external" target="_blank">Auto-configuration</a>进行排序。逻辑算法是：</p> 
 <ol> 
  <li>先根据类名排序</li> 
  <li>再根据<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureOrder.html" rel="nofollow" class="external" target="_blank">@AutoConfigureOrder</a>排序，如果没有<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureOrder.html" rel="nofollow" class="external" target="_blank">@AutoConfigureOrder</a>则优先级最低</li> 
  <li>再根据<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureBefore.html" rel="nofollow" class="external" target="_blank">@AutoConfigureBefore</a>，<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/autoconfigure/AutoConfigureAfter.html" rel="nofollow" class="external" target="_blank">@AutoConfigureAfter</a>排序</li> 
 </ol> 
 <h2>内置类说明</h2> 
 <h3>LoggingApplicationListener</h3> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a>用来配置日志系统的，比如logback、log4j。Spring boot对于日志有<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-logging" rel="nofollow" class="external" target="_blank">详细解释</a>，如果你想<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-custom-log-configuration" rel="nofollow" class="external" target="_blank">自定义日志配置</a>，那么也请参考本文中对于<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html" rel="nofollow" class="external" target="_blank">LoggingApplicationListener</a>的被调用时机的说明以获得更深入的了解。</p> 
 <h3>StandardEnvironment</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>有一个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/MutablePropertySources.html" rel="nofollow" class="external" target="_blank">MutablePropertySources</a>，它里面有多个<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/PropertySource.html" rel="nofollow" class="external" target="_blank">PropertySource</a>，<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/PropertySource.html" rel="nofollow" class="external" target="_blank">PropertySource</a>负责提供property（即property的提供源），目前已知的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/PropertySource.html" rel="nofollow" class="external" target="_blank">PropertySource</a>实现有：<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/MapPropertySource.html" rel="nofollow" class="external" target="_blank">MapPropertySource</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/SystemEnvironmentPropertySource.html" rel="nofollow" class="external" target="_blank">SystemEnvironmentPropertySource</a>、<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html" rel="nofollow" class="external" target="_blank">CommandLinePropertySource</a>等。当<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>查找property值的时候，是从<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/MutablePropertySources.html" rel="nofollow" class="external" target="_blank">MutablePropertySources</a>里依次查找的，而且一旦查找到就不再查找，也就是说如果要覆盖property的值，那么就得提供顺序在前的<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/PropertySource.html" rel="nofollow" class="external" target="_blank">PropertySource</a>。</p> 
 <h3>ConfigFileApplicationListener</h3> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>用来将<code>application.properties</code>加载到<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a>中。</p> 
 <p><a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/context/config/ConfigFileApplicationListener.html" rel="nofollow" class="external" target="_blank">ConfigFileApplicationListener</a>内部使用了<a href="http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/api/org/springframework/boot/env/EnvironmentPostProcessor.html" rel="nofollow" class="external" target="_blank">EnvironmentPostProcessor</a>（见附录）自定义<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/core/env/StandardEnvironment.html" rel="nofollow" class="external" target="_blank">StandardEnvironment</a></p> 
 <h3>ApplicationContextAwareProcessor</h3> 
 <p><a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/support/ApplicationContextAwareProcessor.java" class="external" rel="nofollow" target="_blank">ApplicationContextAwareProcessor</a>实现了<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html" rel="nofollow" class="external" target="_blank">BeanPostProcessor</a>接口，根据javadoc这个类用来调用以下接口的回调方法：</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/EnvironmentAware.html" rel="nofollow" class="external" target="_blank">EnvironmentAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/EmbeddedValueResolverAware.html" rel="nofollow" class="external" target="_blank">EmbeddedValueResolverAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ResourceLoaderAware.html" rel="nofollow" class="external" target="_blank">ResourceLoaderAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationEventPublisherAware.html" rel="nofollow" class="external" target="_blank">ApplicationEventPublisherAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/MessageSourceAware.html" rel="nofollow" class="external" target="_blank">MessageSourceAware</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/ApplicationContextAware.html" rel="nofollow" class="external" target="_blank">ApplicationContextAware</a></li> 
 </ol> 
 <h3>AnnotationConfigApplicationContext</h3> 
 <p>根据<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" rel="nofollow" class="external" target="_blank">javadoc</a>，这个类用来将<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>和<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/stereotype/Component.html" rel="nofollow" class="external" target="_blank">@Component</a>作为输入来注册BeanDefinition。</p> 
 <p>特别需要注意的是，在<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html" rel="nofollow" class="external" target="_blank">javadoc</a>中讲到其支持@Bean的覆盖：</p> 
 <blockquote>
  <p>In case of multiple @Configuration classes, @Bean methods defined in later classes will override those defined in earlier classes. This can be leveraged to deliberately override certain bean definitions via an extra @Configuration class.</p>
 </blockquote> 
 <p>它使用<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotatedBeanDefinitionReader.html" rel="nofollow" class="external" target="_blank">AnnotatedBeanDefinitionReader</a>来读取<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/Configuration.html" rel="nofollow" class="external" target="_blank">@Configuration</a>和<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/stereotype/Component.html" rel="nofollow" class="external" target="_blank">@Component</a>。</p> 
 <h3>AnnotatedBeanDefinitionReader</h3> 
 <p><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/AnnotatedBeanDefinitionReader.html" rel="nofollow" class="external" target="_blank">AnnotatedBeanDefinitionReader</a>在其构造函数内部间接(<a href="https://github.com/spring-projects/spring-framework/blob/v4.3.3.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/AnnotationConfigUtils.java#L145" class="external" rel="nofollow" target="_blank">AnnotationConfigUtils#L145</a>)的给<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/BeanFactory.html" rel="nofollow" class="external" target="_blank">BeanFactory</a>注册了几个与<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html" rel="nofollow" class="external" target="_blank">BeanDefinition</a>相关注解的处理器。</p> 
 <ol> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/ConfigurationClassPostProcessor.html" rel="nofollow" class="external" target="_blank">ConfigurationClassPostProcessor</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.html" rel="nofollow" class="external" target="_blank">AutowiredAnnotationBeanPostProcessor</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/RequiredAnnotationBeanPostProcessor.html" rel="nofollow" class="external" target="_blank">RequiredAnnotationBeanPostProcessor</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/annotation/CommonAnnotationBeanPostProcessor.html" rel="nofollow" class="external" target="_blank">CommonAnnotationBeanPostProcessor</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/context/event/EventListenerMethodProcessor.html" rel="nofollow" class="external" target="_blank">EventListenerMethodProcessor</a></li> 
  <li><a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/orm/jpa/support/PersistenceAnnotationBeanPostProcessor.html" rel="nofollow" class="external" target="_blank">PersistenceAnnotationBeanPostProcessor</a></li> 
 </ol> 
 <!-- BEGIN #author-bio --> 
 <!-- END #author-bio --> 
</div>